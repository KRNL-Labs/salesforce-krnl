<template>
    <div class="slds-text-align_center" style="max-width: 640px; margin: 0 auto;">
        <lightning-input
            type="file"
            label="Select file"
            onchange={handleFileChange}
        ></lightning-input>

        <div class="slds-m-top_small">
            <lightning-button
                label="Upload"
                variant="brand"
                onclick={handleUpload}
                disabled={isUploading}
            ></lightning-button>
        </div>

        <template if:true={fileName}>
            <p class="slds-m-top_x-small slds-text-color_weak slds-truncate" title={fileName}>
                {fileName}
            </p>
        </template>

        <template if:true={hash}>
            <div class="slds-box slds-theme_default slds-m-top_medium slds-text-align_left">
                <p class="slds-text-title_caps slds-text-color_weak">Last upload</p>
                <p class="slds-m-top_x-small slds-truncate" title={hash}><strong>Hash:</strong> {truncatedHash}</p>
                <template if:true={storagePath}>
                    <p class="slds-m-top_x-small slds-truncate" title={storagePath}><strong>Path:</strong> {storagePath}</p>
                    <lightning-button
                        class="slds-m-top_x-small"
                        label="View / Download"
                        variant="base"
                        onclick={handleView}
                    ></lightning-button>
                </template>
            </div>
        </template>
    </div>

    <template if:true={isUploading}>
        <lightning-spinner
            alternative-text="Uploading..."
            size="small">
        </lightning-spinner>
    </template>

</template>
